---
const response = await fetch('https://kings-league-api.alexherranzdev.workers.dev/leaderboard')
const leaderboard = await response.json()
---
<div class="relative overflow-x-auto shadow-md sm:rounded-lg">
  <table class="w-full text-xs text-left text-black">
      <thead class="text-xxs uppercase bg-black text-white font-black">
          <tr>
              <th scope="col" class="px-6 py-3">
                  Pos.
              </th>
              <th scope="col" class="px-6 py-3">
                  Equipo
              </th>
              <th scope="col" class="px-6 py-3">
                  V
              </th>
              <th scope="col" class="px-6 py-3">
                  D
              </th>
          </tr>
      </thead>
      <tbody>
        {
          leaderboard.map((info, index) => {
            const { wins, losses, team, rank } = info
            const { id, image, name } = team

            return (
            <tr class="bg-white border-b">
              <th scope="row" class="px-6 py-4 font-medium text-black whitespace-nowrap font-black">
                  {rank}
              </th>
              <td class="px-6 py-4">
                <a href={`/teams/${id}`} class="flex gap-x-4 items-center">
                  <img src={image} class="w-6 h-6 rounded-full mr-2" alt={name} />
                    {name}
                </a>
              </td>
              <td class="px-6 py-4">
                  {wins}
              </td>
              <td class="px-6 py-4">
                  {losses}
              </td>
          </tr>
            )
          })
        }
      </tbody>
  </table>
</div>
